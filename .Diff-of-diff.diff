--- a	2023-09-28 18:44:06.368705193 +0100
+++ b	2023-09-28 18:44:06.376705520 +0100
@@ -1,7 +1,7 @@
 diff --git a/asmcomp/arm64/emit.mlp b/asmcomp/arm64/emit.mlp
 --- a/asmcomp/arm64/emit.mlp
 +++ b/asmcomp/arm64/emit.mlp
-@@ -742,12 +742,14 @@ let emit_instr env i =
+@@ -772,12 +772,14 @@ let emit_instr env i =
               NB: no need to store previous x29 because OCaml frames don't
               maintain frame pointer *)
            ` mov x29, sp\n`;
@@ -16,9 +16,9 @@
 +          ` mov sp, x29\n`;
 +          cfi_restore_state ()
          end
+ *)
      | Lop(Istackoffset n) ->
-         assert (n mod 16 = 0);
-@@ -1166,7 +1168,14 @@ let begin_assembly() =
+@@ -1222,7 +1224,14 @@ let begin_assembly() =
    let lbl_begin = Compilenv.make_symbol (Some "code_begin") in
    emit_named_text_section lbl_begin;
    `	.globl	{emit_symbol lbl_begin}\n`;
@@ -67,7 +67,7 @@
 diff --git a/configure.ac b/configure.ac
 --- a/configure.ac
 +++ b/configure.ac
-@@ -792,9 +792,11 @@ AS_CASE([$flexdir,$supports_shared_libraries,$flexlink,$host],
+@@ -802,9 +802,11 @@ AS_CASE([$flexdir,$supports_shared_libraries,$flexlink,$host],
      [AC_MSG_ERROR([flexlink is required for native Win32])])
  
  AS_CASE([$cc_basename,$host],
@@ -80,7 +80,7 @@
    [*,*-*-haiku*], [mathlib=""],
    [*,*-*-cygwin*],
      [common_cppflags="$common_cppflags -U_WIN32"
-@@ -933,11 +935,15 @@ natdynlinkopts=""
+@@ -943,11 +945,15 @@ natdynlinkopts=""
  
  AS_IF([test x"$enable_shared" != "xno"],
    [AS_CASE([$host],
