--- a	2023-09-28 18:47:58.673581605 +0100
+++ b	2023-09-28 18:47:58.681581892 +0100
@@ -41,74 +41,84 @@
 diff --git a/testsuite/tests/backtrace/backtrace_dynlink.flambda.reference b/testsuite/tests/backtrace/backtrace_dynlink.flambda.reference
 --- a/testsuite/tests/backtrace/backtrace_dynlink.flambda.reference
 +++ b/testsuite/tests/backtrace/backtrace_dynlink.flambda.reference
-@@ -1,25 +1,25 @@
+@@ -1,29 +1,29 @@
  Raised by primitive operation at Backtrace_dynlink_plugin in file "backtrace_dynlink_plugin.ml", line 6, characters 13-38
--Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 87, characters 12-29
-+Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 85, characters 12-29
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
  Called from Stdlib__List.iter in file "list.ml" (inlined), line 112, characters 12-15
--Called from Dynlink.Native.run in file "otherlibs/dynlink/native/dynlink.ml", line 86, characters 4-273
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 361, characters 11-54
-+Called from Dynlink.Native.run in file "native/dynlink.ml", line 84, characters 4-273
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 360, characters 11-54
+-Called from Dynlink.Native.run in file "otherlibs/dynlink/native/dynlink.ml", line 88, characters 4-273
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 370, characters 11-54
++Called from Dynlink.Native.run in file "native/dynlink.ml", line 86, characters 4-273
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 369, characters 11-54
  Called from Stdlib__List.iter in file "list.ml" (inlined), line 112, characters 12-15
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 357, characters 6-372
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml" (inlined), line 356, characters 6-372
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 366, characters 6-372
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml" (inlined), line 365, characters 6-372
  Called from Stdlib__Fun.protect in file "fun.ml" (inlined), line 33, characters 8-15
--Called from Dynlink_common.Make.load in file "otherlibs/dynlink/dynlink_common.ml", line 350, characters 4-662
--Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 369, characters 26-45
-+Called from Dynlink_common.Make.load in file "dynlink_common.ml", line 349, characters 4-662
-+Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 368, characters 26-45
+-Called from Dynlink_common.Make.load in file "otherlibs/dynlink/dynlink_common.ml", line 359, characters 4-662
+-Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 378, characters 26-45
++Called from Dynlink_common.Make.load in file "dynlink_common.ml", line 358, characters 4-662
++Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 377, characters 26-45
  Called from Backtrace_dynlink in file "backtrace_dynlink.ml", line 39, characters 4-52
  execution of module initializers in the shared library failed: Failure("SUCCESS")
--Raised by primitive operation at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 87, characters 12-29
--Re-raised at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 10-149
-+Raised by primitive operation at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 85, characters 12-29
-+Re-raised at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 10-149
+ Raised at Stdlib.failwith in file "stdlib.ml", line 29, characters 17-33
+ Called from Backtrace_dynlink_plugin in file "backtrace_dynlink_plugin.ml", line 3, characters 4-22
+ Re-raised at Backtrace_dynlink_plugin in file "backtrace_dynlink_plugin.ml", line 8, characters 5-12
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
+-Re-raised at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 91, characters 10-149
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
++Re-raised at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 89, characters 10-149
  Called from Stdlib__List.iter in file "list.ml" (inlined), line 112, characters 12-15
--Called from Dynlink.Native.run in file "otherlibs/dynlink/native/dynlink.ml", line 86, characters 4-273
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 361, characters 11-54
-+Called from Dynlink.Native.run in file "native/dynlink.ml", line 84, characters 4-273
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 360, characters 11-54
+-Called from Dynlink.Native.run in file "otherlibs/dynlink/native/dynlink.ml", line 88, characters 4-273
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 370, characters 11-54
++Called from Dynlink.Native.run in file "native/dynlink.ml", line 86, characters 4-273
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 369, characters 11-54
  Called from Stdlib__List.iter in file "list.ml" (inlined), line 112, characters 12-15
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 357, characters 6-372
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml" (inlined), line 356, characters 6-372
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 366, characters 6-372
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml" (inlined), line 365, characters 6-372
  Called from Stdlib__Fun.protect in file "fun.ml" (inlined), line 33, characters 8-15
--Called from Dynlink_common.Make.load in file "otherlibs/dynlink/dynlink_common.ml", line 350, characters 4-662
-+Called from Dynlink_common.Make.load in file "dynlink_common.ml", line 349, characters 4-662
+-Called from Dynlink_common.Make.load in file "otherlibs/dynlink/dynlink_common.ml", line 359, characters 4-662
++Called from Dynlink_common.Make.load in file "dynlink_common.ml", line 358, characters 4-662
  Re-raised at Stdlib__Fun.protect in file "fun.ml" (inlined), line 38, characters 6-52
--Called from Dynlink_common.Make.load in file "otherlibs/dynlink/dynlink_common.ml", line 350, characters 4-662
--Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 369, characters 26-45
-+Called from Dynlink_common.Make.load in file "dynlink_common.ml", line 349, characters 4-662
-+Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 368, characters 26-45
+-Called from Dynlink_common.Make.load in file "otherlibs/dynlink/dynlink_common.ml", line 359, characters 4-662
+-Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 378, characters 26-45
++Called from Dynlink_common.Make.load in file "dynlink_common.ml", line 358, characters 4-662
++Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 377, characters 26-45
  Called from Backtrace_dynlink in file "backtrace_dynlink.ml", line 39, characters 4-52
 diff --git a/testsuite/tests/backtrace/backtrace_dynlink.reference b/testsuite/tests/backtrace/backtrace_dynlink.reference
 --- a/testsuite/tests/backtrace/backtrace_dynlink.reference
 +++ b/testsuite/tests/backtrace/backtrace_dynlink.reference
-@@ -1,18 +1,18 @@
+@@ -1,22 +1,22 @@
  Raised by primitive operation at Backtrace_dynlink_plugin in file "backtrace_dynlink_plugin.ml", line 6, characters 13-38
--Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 87, characters 12-29
-+Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 85, characters 12-29
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 361, characters 11-54
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 360, characters 11-54
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 370, characters 11-54
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 369, characters 11-54
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
  Called from Stdlib__Fun.protect in file "fun.ml", line 33, characters 8-15
--Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 369, characters 26-45
-+Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 368, characters 26-45
+-Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 378, characters 26-45
++Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 377, characters 26-45
  Called from Backtrace_dynlink in file "backtrace_dynlink.ml", line 39, characters 4-52
  execution of module initializers in the shared library failed: Failure("SUCCESS")
--Raised by primitive operation at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 87, characters 12-29
--Re-raised at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 10-149
-+Raised by primitive operation at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 85, characters 12-29
-+Re-raised at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 10-149
+ Raised at Stdlib.failwith in file "stdlib.ml", line 29, characters 17-33
+ Called from Backtrace_dynlink_plugin in file "backtrace_dynlink_plugin.ml", line 3, characters 4-22
+ Re-raised at Backtrace_dynlink_plugin in file "backtrace_dynlink_plugin.ml", line 8, characters 5-12
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
+-Re-raised at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 91, characters 10-149
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
++Re-raised at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 89, characters 10-149
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 361, characters 11-54
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 360, characters 11-54
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 370, characters 11-54
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 369, characters 11-54
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
  Called from Stdlib__Fun.protect in file "fun.ml", line 33, characters 8-15
  Re-raised at Stdlib__Fun.protect in file "fun.ml", line 38, characters 6-52
--Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 369, characters 26-45
-+Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 368, characters 26-45
+-Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 378, characters 26-45
++Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 377, characters 26-45
  Called from Backtrace_dynlink in file "backtrace_dynlink.ml", line 39, characters 4-52
 diff --git a/testsuite/tests/lib-dynlink-initializers/test10_main.byte.reference b/testsuite/tests/lib-dynlink-initializers/test10_main.byte.reference
 --- a/testsuite/tests/lib-dynlink-initializers/test10_main.byte.reference
@@ -117,30 +127,34 @@
  Called from Test10_plugin.g in file "test10_plugin.ml", line 3, characters 2-21
  Called from Test10_plugin.f in file "test10_plugin.ml", line 6, characters 2-6
  Called from Test10_plugin in file "test10_plugin.ml", line 10, characters 2-6
--Called from Dynlink.Bytecode.run in file "otherlibs/dynlink/dynlink.ml", line 153, characters 16-25
--Re-raised at Dynlink.Bytecode.run in file "otherlibs/dynlink/dynlink.ml", line 155, characters 6-137
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 361, characters 11-54
-+Called from Dynlink.Bytecode.run in file "byte/dynlink.ml", line 151, characters 16-25
-+Re-raised at Dynlink.Bytecode.run in file "byte/dynlink.ml", line 153, characters 6-137
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 360, characters 11-54
+-Called from Dynlink.Bytecode.run in file "otherlibs/dynlink/dynlink.ml", line 156, characters 16-25
+-Re-raised at Dynlink.Bytecode.run in file "otherlibs/dynlink/dynlink.ml", line 158, characters 6-137
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 370, characters 11-54
++Called from Dynlink.Bytecode.run in file "byte/dynlink.ml", line 154, characters 16-25
++Re-raised at Dynlink.Bytecode.run in file "byte/dynlink.ml", line 156, characters 6-137
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 369, characters 11-54
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
  Called from Stdlib__Fun.protect in file "fun.ml", line 33, characters 8-15
  Re-raised at Stdlib__Fun.protect in file "fun.ml", line 38, characters 6-52
 diff --git a/testsuite/tests/lib-dynlink-initializers/test10_main.native.reference b/testsuite/tests/lib-dynlink-initializers/test10_main.native.reference
 --- a/testsuite/tests/lib-dynlink-initializers/test10_main.native.reference
 +++ b/testsuite/tests/lib-dynlink-initializers/test10_main.native.reference
-@@ -1,10 +1,10 @@
- Error: Failure("Plugin error")
--Raised by primitive operation at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 87, characters 12-29
--Re-raised at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 10-149
-+Raised by primitive operation at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 85, characters 12-29
-+Re-raised at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 10-149
+@@ -2,13 +2,13 @@ Error: Failure("Plugin error")
+ Raised at Stdlib.failwith in file "stdlib.ml", line 29, characters 17-33
+ Called from Test10_plugin.g in file "test10_plugin.ml", line 2, characters 15-38
+ Called from Test10_plugin in file "test10_plugin.ml", line 10, characters 2-6
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
+-Called from Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 89, characters 12-29
+-Re-raised at Dynlink.Native.run.(fun) in file "otherlibs/dynlink/native/dynlink.ml", line 91, characters 10-149
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
++Called from Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 87, characters 12-29
++Re-raised at Dynlink.Native.run.(fun) in file "native/dynlink.ml", line 89, characters 10-149
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
--Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 361, characters 11-54
-+Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 360, characters 11-54
+-Called from Dynlink_common.Make.load.(fun) in file "otherlibs/dynlink/dynlink_common.ml", line 370, characters 11-54
++Called from Dynlink_common.Make.load.(fun) in file "dynlink_common.ml", line 369, characters 11-54
  Called from Stdlib__List.iter in file "list.ml", line 112, characters 12-15
  Called from Stdlib__Fun.protect in file "fun.ml", line 33, characters 8-15
  Re-raised at Stdlib__Fun.protect in file "fun.ml", line 38, characters 6-52
--Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 369, characters 26-45
-+Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 368, characters 26-45
+-Called from Dynlink_common.Make.loadfile in file "otherlibs/dynlink/dynlink_common.ml" (inlined), line 378, characters 26-45
++Called from Dynlink_common.Make.loadfile in file "dynlink_common.ml" (inlined), line 377, characters 26-45
  Called from Test10_main in file "test10_main.ml", line 49, characters 30-87
