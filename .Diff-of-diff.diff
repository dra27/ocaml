--- a	2023-09-28 18:45:47.016693765 +0100
+++ b	2023-09-28 18:45:47.024694073 +0100
@@ -1,91 +1,91 @@
 diff --git a/testsuite/tests/lib-dynlink-domains/main.ml b/testsuite/tests/lib-dynlink-domains/main.ml
 --- a/testsuite/tests/lib-dynlink-domains/main.ml
 +++ b/testsuite/tests/lib-dynlink-domains/main.ml
-@@ -4,57 +4,58 @@ include dynlink
- libraries = ""
- readonly_files = "store.ml main.ml Plugin_0.ml Plugin_0_0.ml Plugin_0_0_0.ml Plugin_0_0_0_0.ml Plugin_0_0_0_1.ml Plugin_0_0_0_2.ml Plugin_1.ml Plugin_1_0.ml Plugin_1_0_0.ml Plugin_1_0_0_0.ml Plugin_1_1.ml Plugin_1_2.ml Plugin_1_2_0.ml Plugin_1_2_0_0.ml Plugin_1_2_1.ml Plugin_1_2_2.ml Plugin_1_2_2_0.ml Plugin_1_2_3.ml Plugin_1_2_3_0.ml"
+@@ -6,57 +6,58 @@ readonly_files = "store.ml main.ml Plugin_0.ml Plugin_0_0.ml Plugin_0_0_0.ml Plu
  
--*01 shared-libraries
--*02 setup-ocamlc.byte-build-env
--*03 ocamlc.byte
+ * skip
+ reason = "OCaml 5 only"
+-**01 shared-libraries
+-**02 setup-ocamlc.byte-build-env
+-**03 ocamlc.byte
 -module = "store.ml"
-+*01 not-windows
-+*02 shared-libraries
-+*03 setup-ocamlc.byte-build-env
- *04 ocamlc.byte
++**01 not-windows
++**02 shared-libraries
++**03 setup-ocamlc.byte-build-env
+ **04 ocamlc.byte
 -module = "Plugin_0.ml"
 +module = "store.ml"
- *05 ocamlc.byte
+ **05 ocamlc.byte
 -module = "Plugin_0_0.ml"
 +module = "Plugin_0.ml"
- *06 ocamlc.byte
+ **06 ocamlc.byte
 -module = "Plugin_0_0_0.ml"
 +module = "Plugin_0_0.ml"
- *07 ocamlc.byte
+ **07 ocamlc.byte
 -module = "Plugin_0_0_0_0.ml"
 +module = "Plugin_0_0_0.ml"
- *08 ocamlc.byte
+ **08 ocamlc.byte
 -module = "Plugin_0_0_0_1.ml"
 +module = "Plugin_0_0_0_0.ml"
- *09 ocamlc.byte
+ **09 ocamlc.byte
 -module = "Plugin_0_0_0_2.ml"
 +module = "Plugin_0_0_0_1.ml"
- *10 ocamlc.byte
+ **10 ocamlc.byte
 -module = "Plugin_1.ml"
 +module = "Plugin_0_0_0_2.ml"
- *11 ocamlc.byte
+ **11 ocamlc.byte
 -module = "Plugin_1_0.ml"
 +module = "Plugin_1.ml"
- *12 ocamlc.byte
+ **12 ocamlc.byte
 -module = "Plugin_1_0_0.ml"
 +module = "Plugin_1_0.ml"
- *13 ocamlc.byte
+ **13 ocamlc.byte
 -module = "Plugin_1_0_0_0.ml"
 +module = "Plugin_1_0_0.ml"
- *14 ocamlc.byte
+ **14 ocamlc.byte
 -module = "Plugin_1_1.ml"
 +module = "Plugin_1_0_0_0.ml"
- *15 ocamlc.byte
+ **15 ocamlc.byte
 -module = "Plugin_1_2.ml"
 +module = "Plugin_1_1.ml"
- *16 ocamlc.byte
+ **16 ocamlc.byte
 -module = "Plugin_1_2_0.ml"
 +module = "Plugin_1_2.ml"
- *17 ocamlc.byte
+ **17 ocamlc.byte
 -module = "Plugin_1_2_0_0.ml"
 +module = "Plugin_1_2_0.ml"
- *18 ocamlc.byte
+ **18 ocamlc.byte
 -module = "Plugin_1_2_1.ml"
 +module = "Plugin_1_2_0_0.ml"
- *19 ocamlc.byte
+ **19 ocamlc.byte
 -module = "Plugin_1_2_2.ml"
 +module = "Plugin_1_2_1.ml"
- *20 ocamlc.byte
+ **20 ocamlc.byte
 -module = "Plugin_1_2_2_0.ml"
 +module = "Plugin_1_2_2.ml"
- *21 ocamlc.byte
+ **21 ocamlc.byte
 -module = "Plugin_1_2_3.ml"
 +module = "Plugin_1_2_2_0.ml"
- *22 ocamlc.byte
+ **22 ocamlc.byte
 -module = "Plugin_1_2_3_0.ml"
 +module = "Plugin_1_2_3.ml"
- *23 ocamlc.byte
+ **23 ocamlc.byte
 -module = "main.ml"
 +module = "Plugin_1_2_3_0.ml"
- *24 ocamlc.byte
+ **24 ocamlc.byte
 +module = "main.ml"
-+*25 ocamlc.byte
++**25 ocamlc.byte
  program = "./main.byte.exe"
  libraries= "dynlink"
  all_modules = "store.cmo main.cmo"
  module = ""
--*25 run
--*26 check-program-output
-+*26 run
-+*27 check-program-output
+-**25 run
+-**26 check-program-output
++**26 run
++**27 check-program-output
  
- *02 native-dynlink
- *03 setup-ocamlopt.byte-build-env
+ **02 native-dynlink
+ **03 setup-ocamlopt.byte-build-env
 diff --git a/testsuite/tests/lib-dynlink-domains/test_generator.ml b/testsuite/tests/lib-dynlink-domains/test_generator.ml
 --- a/testsuite/tests/lib-dynlink-domains/test_generator.ml
 +++ b/testsuite/tests/lib-dynlink-domains/test_generator.ml
