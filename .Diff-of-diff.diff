--- a	2023-09-28 18:45:52.708912281 +0100
+++ b	2023-09-28 18:45:52.716912587 +0100
@@ -3,133 +3,24 @@
 diff --git a/configure.ac b/configure.ac
 --- a/configure.ac
 +++ b/configure.ac
-@@ -1193,98 +1193,99 @@ arch=none
+@@ -1205,6 +1205,7 @@ arch=none
  model=default
  system=unknown
  
 +has_native_backend=no
  AS_CASE([$host],
--dnl [[i[3456]86-*-linux*]],
--dnl   [arch=i386; system=linux_elf],
--dnl [[i[3456]86-*-*bsd*]],
--dnl   [arch=i386; system=bsd_elf],
--dnl [[i[3456]86-*-haiku*]],
--dnl   [arch=i386; system=beos],
--dnl [[i[3456]86-*-cygwin]],
--dnl   [arch=i386; system=cygwin],
--dnl [[i[3456]86-*-gnu*]],
--dnl   [arch=i386; system=gnu],
--dnl [[i[3456]86-*-mingw32]],
--dnl   [arch=i386; system=mingw],
--dnl [i686-pc-windows],
--dnl   [arch=i386; system=win32],
--dnl [x86_64-pc-windows],
--dnl   [arch=amd64; system=win64],
--dnl [[powerpc64le*-*-linux*]],
--dnl   [arch=power; model=ppc64le; system=elf],
--dnl [[powerpc*-*-linux*]],
--dnl   [arch=power; AS_IF([$arch64],[model=ppc64],[model=ppc]); system=elf],
--dnl [[s390x*-*-linux*]],
--dnl   [arch=s390x; model=z10; system=elf],
--dnl # expected to match "gnueabihf" as well as "musleabihf"
--dnl [armv6*-*-linux-*eabihf],
--dnl   [arch=arm; model=armv6; system=linux_eabihf],
--dnl [armv7*-*-linux-*eabihf],
--dnl   [arch=arm; model=armv7; system=linux_eabihf],
--dnl [armv8*-*-linux-*eabihf],
--dnl   [arch=arm; model=armv8; system=linux_eabihf],
--dnl [armv8*-*-linux-*eabi],
--dnl   [arch=arm; model=armv8; system=linux_eabi],
--dnl [armv7*-*-linux-*eabi],
--dnl   [arch=arm; model=armv7; system=linux_eabi],
--dnl [armv6t2*-*-linux-*eabi],
--dnl   [arch=arm; model=armv6t2; system=linux_eabi],
--dnl [armv6*-*-linux-*eabi],
--dnl   [arch=arm; model=armv6; system=linux_eabi],
--dnl [armv6*-*-freebsd*],
--dnl   [arch=arm; model=armv6; system=freebsd],
--dnl [earmv6*-*-netbsd*],
--dnl   [arch=arm; model=armv6; system=netbsd],
--dnl [earmv7*-*-netbsd*],
--dnl   [arch=arm; model=armv7; system=netbsd],
--dnl [armv5te*-*-linux-*eabi],
--dnl   [arch=arm; model=armv5te; system=linux_eabi],
--dnl [armv5*-*-linux-*eabi],
--dnl   [arch=arm; model=armv5; system=linux_eabi],
--dnl [arm*-*-linux-*eabihf],
--dnl   [arch=arm; system=linux_eabihf],
--dnl [arm*-*-linux-*eabi],
--dnl   [arch=arm; system=linux_eabi],
--dnl [arm*-*-openbsd*],
--dnl   [arch=arm; system=bsd],
--dnl [zaurus*-*-openbsd*],
--dnl   [arch=arm; system=bsd],
-+  [[i[3456]86-*-linux*]],
-+    [arch=i386; system=linux_elf],
-+  [[i[3456]86-*-*bsd*]],
-+    [arch=i386; system=bsd_elf],
-+  [[i[3456]86-*-haiku*]],
-+    [arch=i386; system=beos],
-+  [[i[3456]86-*-cygwin]],
-+    [arch=i386; system=cygwin],
-+  [[i[3456]86-*-gnu*]],
-+    [arch=i386; system=gnu],
-+  [[i[3456]86-*-mingw32]],
-+    [arch=i386; system=mingw],
-+  [i686-pc-windows],
-+    [arch=i386; system=win32],
-+  [x86_64-pc-windows],
-+    [arch=amd64; system=win64],
-+  [[powerpc64le*-*-linux*]],
-+    [arch=power; model=ppc64le; system=elf],
-+  [[powerpc*-*-linux*]],
-+    [arch=power; AS_IF([$arch64],[model=ppc64],[model=ppc]); system=elf],
-+  [[s390x*-*-linux*]],
-+    [arch=s390x; model=z10; system=elf],
-+  # expected to match "gnueabihf" as well as "musleabihf"
-+  [armv6*-*-linux-*eabihf],
-+    [arch=arm; model=armv6; system=linux_eabihf],
-+  [armv7*-*-linux-*eabihf],
-+    [arch=arm; model=armv7; system=linux_eabihf],
-+  [armv8*-*-linux-*eabihf],
-+    [arch=arm; model=armv8; system=linux_eabihf],
-+  [armv8*-*-linux-*eabi],
-+    [arch=arm; model=armv8; system=linux_eabi],
-+  [armv7*-*-linux-*eabi],
-+    [arch=arm; model=armv7; system=linux_eabi],
-+  [armv6t2*-*-linux-*eabi],
-+    [arch=arm; model=armv6t2; system=linux_eabi],
-+  [armv6*-*-linux-*eabi],
-+    [arch=arm; model=armv6; system=linux_eabi],
-+  [armv6*-*-freebsd*],
-+    [arch=arm; model=armv6; system=freebsd],
-+  [earmv6*-*-netbsd*],
-+    [arch=arm; model=armv6; system=netbsd],
-+  [earmv7*-*-netbsd*],
-+    [arch=arm; model=armv7; system=netbsd],
-+  [armv5te*-*-linux-*eabi],
-+    [arch=arm; model=armv5te; system=linux_eabi],
-+  [armv5*-*-linux-*eabi],
-+    [arch=arm; model=armv5; system=linux_eabi],
-+  [arm*-*-linux-*eabihf],
-+    [arch=arm; system=linux_eabihf],
-+  [arm*-*-linux-*eabi],
-+    [arch=arm; system=linux_eabi],
-+  [arm*-*-openbsd*],
-+    [arch=arm; system=bsd],
-+  [zaurus*-*-openbsd*],
-+    [arch=arm; system=bsd],
+   [[i[3456]86-*-linux*]],
+     [arch=i386; system=linux_elf],
+@@ -1262,37 +1263,37 @@ AS_CASE([$host],
+   [zaurus*-*-openbsd*],
+     [arch=arm; system=bsd],
    [x86_64-*-linux*],
 -    [arch=amd64; system=linux],
--dnl [x86_64-*-gnu*],
--dnl   [arch=amd64; system=gnu],
--dnl [x86_64-*-dragonfly*],
--dnl   [arch=amd64; system=dragonfly],
 +    [has_native_backend=yes; arch=amd64; system=linux],
-+  [x86_64-*-gnu*],
-+    [arch=amd64; system=gnu],
-+  [x86_64-*-dragonfly*],
-+    [arch=amd64; system=dragonfly],
+   [x86_64-*-gnu*],
+     [arch=amd64; system=gnu],
+   [x86_64-*-dragonfly*],
+     [arch=amd64; system=dragonfly],
    [x86_64-*-solaris*],
 -    [arch=amd64; system=solaris],
 +    [has_native_backend=yes; arch=amd64; system=solaris],
@@ -141,11 +32,9 @@
 +    [has_native_backend=yes; arch=amd64; system=netbsd],
    [x86_64-*-openbsd*],
 -    [arch=amd64; system=openbsd],
--dnl [x86_64-*-haiku*],
--dnl   [arch=amd64; system=beos],
 +    [has_native_backend=yes; arch=amd64; system=openbsd],
-+  [x86_64-*-haiku*],
-+    [arch=amd64; system=beos],
+   [x86_64-*-haiku*],
+     [arch=amd64; system=beos],
    [arm64-*-darwin*],
 -    [arch=arm64; system=macosx],
 +    [has_native_backend=yes; arch=arm64; system=macosx],
@@ -169,19 +58,11 @@
 +    [has_native_backend=yes; arch=arm64; system=openbsd],
    [aarch64-*-netbsd*],
 -    [arch=arm64; system=netbsd],
--dnl [x86_64-*-cygwin*],
--dnl   [arch=amd64; system=cygwin],
--dnl [riscv64-*-linux*],
--dnl   [arch=riscv; model=riscv64; system=linux]
 +    [has_native_backend=yes; arch=arm64; system=netbsd],
-+  [x86_64-*-cygwin*],
-+    [arch=amd64; system=cygwin],
-+  [riscv64-*-linux*],
-+    [arch=riscv; model=riscv64; system=linux]
- )
- 
- AS_CASE([$ccomptype],
-@@ -1292,13 +1293,13 @@ AS_CASE([$ccomptype],
+   [x86_64-*-cygwin*],
+     [arch=amd64; system=cygwin],
+   [riscv64-*-linux*],
+@@ -1304,13 +1305,13 @@ AS_CASE([$ccomptype],
      [runtime_asm_objects=${arch}nt.${OBJEXT}],
    [runtime_asm_objects=${arch}.${OBJEXT}])
  
